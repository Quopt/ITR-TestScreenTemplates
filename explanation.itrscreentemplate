{"_objectType":"ITSScreenTemplate","ID":"57b657e8-c335-4d44-d1e4-3d0419d59f53","Description":"Explanation","Explanation":"Show an explanation","Remarks":"","TemplateVariables":[{"_objectType":"ITSScreenTemplateVariable","ID":"a2999f1c-4fce-4c09-3cfb-dff1c1562e87","variableName":"Explanation","description":"The explanation shown to the user","defaultValue":"","variableType":"H","translatable":true}],"HTMLContent":"<div NoTranslate id=\"%%ID%%\">%%Explanation%%</div>\n","HTMLContentPnP":"","HTMLContentSummary":"","get_value_snippet":"","set_value_snippet":"","TemplateType":0,"init_value_snippet":"","generator_snippet":"","generator_pnp_snippet":"","generator_summary_snippet":"","get_value_as_html_snippet":"if (preload) {\n  var div = $(\"<div id='\"+id+\"_div'  style='visibility: hidden;'/>\");\n  $(\"body\").append(div);\n  var preload = $(\"<div id='\"+id+\"_preload' style='visibility: hidden;' />\");\n  $(\"body\").append(preload);\n  div.append( $.parseHTML( current_values.Explanation ));\n  \n  var imageList = $('#'+ id+'_div').find('img');\n  var imagesToLoad = imageList.length;\n  \n  for (var i=0; i < imagesToLoad; i++) {\n   $(\"#\"+id+\"_preload\").append( \n    $(\"<img id='\"+id+ \"_\"+ i+\"' />\").bind(\"load\",\n\t  function() { /*console.log(\"load OK\");*/ preloadCallback(); }.bind(preloadCallback) \n\t  ).bind(\"error\",\n\t  function() { /*console.log(\"load Error\");*/ preloadCallback(); }.bind(preloadCallback)\n\t  ).attr('src', imageList[i].src)\n   );\n  }\n  return imagesToLoad;\n} else {\n\n   var imageList = $('#'+ id+'_div').find('img');\n   var imagesToLoad = imageList.length;\n\n   for (var i=0; i < imagesToLoad; i++) {\n    // Create canvas\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    canvas.width = $(\"#\"+id+ \"_\"+ i).get(0).naturalWidth;\n    canvas.height = $(\"#\"+id+ \"_\"+ i).get(0).naturalHeight; \n    // Draw the image\n    ctx.drawImage($(\"#\"+id+ \"_\"+ i).get(0), 0,0);\n    imageList[i].src = canvas.toDataURL('image/png');\n   }\n  \n   var x = $('#'+ id+'_div')[0].innerHTML;\n   $('#'+ id+'_div').remove();\n   $('#'+ id+'_preload').remove();\n   return x;\n}\n","validation_snippet":"","isanswered_snippet":"return true;","PluginData":{"_objectType":"ITSObject","persistentProperties":"*ALL*"}}