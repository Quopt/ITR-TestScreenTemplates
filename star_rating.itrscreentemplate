{"_objectType":"ITSScreenTemplate","ID":"187b0d0b-e68c-47e2-5c7c-83efaa412604","Description":"Star rating","Explanation":"A rating in stars of a subject","Remarks":"","TemplateVariables":[{"_objectType":"ITSScreenTemplateVariable","ID":"4f58f914-e8e5-42b3-0e9d-d2a97f817a10","variableName":"TextBeforeStars","description":"Text before the stars","defaultValue":"","variableType":"T","translatable":true},{"_objectType":"ITSScreenTemplateVariable","ID":"848b215e-7978-49a1-e40f-f8309384f1bc","variableName":"TextAfterStars","description":"Text after the stars","defaultValue":"","variableType":"T","translatable":true},{"_objectType":"ITSScreenTemplateVariable","ID":"3504e7b3-09da-49d5-8f5c-ab7973ed2074","variableName":"Icon","description":"","defaultValue":"fa-star|star,fa-battery-quarter|battery-quarter,fa-coffee|coffee,fa-cog|cog,fa-eye|eye,fa-heart|heart,fa-headphones|headphones,fa-magnet|magnet,fa-microphone|microphone","variableType":"L","translatable":false},{"_objectType":"ITSScreenTemplateVariable","ID":"9375429f-7feb-4942-b51c-92d4a3b9c5d4","variableName":"SelectAction","description":"The action to perform when one of the icons is clicked","defaultValue":"|No action,Store|Store the currently entered values,EndTest|End the test,EndTestTimeOut|End the test because of a time out,EndSession|End the session,NextScreen|Goto the next screen in the test,PreviousScreen|Goto the previous screen in the test,GotoScreen|Goto a specific screen in the test,Logout|Logout after saving the currently entered values","variableType":"L","translatable":false},{"_objectType":"ITSScreenTemplateVariable","ID":"82bbc930-b5b7-43fb-0f7e-53ec3a0a15a4","variableName":"SelectActionParameter","description":"The (optional) parameter. Only set this for the goto screen action, then it will contain the page number to jump to. ","defaultValue":"","variableType":"T","translatable":false},{"_objectType":"ITSScreenTemplateVariable","ID":"04175481-0929-482c-0286-ce306941c597","variableName":"Required","description":"Check if an answer is required","defaultValue":"","variableType":"B","translatable":false},{"_objectType":"ITSScreenTemplateVariable","ID":"e11c327e-ae83-40c6-1d97-b9cede43199b","variableName":"RequiredMessage","description":"The message to display when the answer is not given","defaultValue":"","variableType":"T","translatable":false},{"_objectType":"ITSScreenTemplateVariable","ID":"239f6173-1ea1-46f7-9ebb-30a7144d70a1","variableName":"TextBeforeStarsWidth","description":"Width of the text before the stars","defaultValue":"3|3,1|1,2|2,4|4,5|5,0|0","variableType":"L","translatable":false},{"_objectType":"ITSScreenTemplateVariable","ID":"f3e74e66-d89f-47cd-3b1a-420c3ca45cf1","variableName":"TextAfterStarsWidth","description":"Width of the text after the stars","defaultValue":"3|3,1|1,2|2,4|4,5|5,0|0","variableType":"L","translatable":false}],"HTMLContent":"<span style=\"col-12\">\n<label id=\"%%ID%%_beforeid\" class=\"col-%%TextBeforeStarsWidth%% col-form-label mx-0 px-0\">%%TextBeforeStars%%</label>\n<!--REPEATBLOCK-->\n<span style=\"pointer-events: auto;\" class=\"fa %%Icon%%\" id=\"%%ID%%_%%RepeatBlockNr%%\" onclick=\"ITSInstance.screenTemplates.starRatingCheckedClicked('%%ID%%',%%NrOfRepeatBlocks%%,%%RepeatBlockNr%%)\"></span>\n<!--REPEATBLOCK-->\n<label id=\"%%ID%%_afterid\" class=\"col-%%TextAfterStarsWidth%% col-form-label mx-0 px-0\">%%TextAfterStars%%</label>\n</span>","HTMLContentPnP":"","HTMLContentSummary":"","get_value_snippet":"var toReturn = 0;\n\nfor (var i=1; i <= num_blocks; i++) {\n if ( $('#'+id+ \"_\"+ i ).hasClass('starRatingChecked') ) {\n  toReturn = i;\n }\n}\nreturn toReturn;","set_value_snippet":"//console.log(\"star rating set \" + id + \"_\" + num_blocks + \" = \" + varvalue) ;\n\nfor (var i=1; i <= num_blocks; i++) {\n $('#'+id+\"_\"+i).removeClass('starRatingChecked');\n}\n\nfor (var i=1; i <= varvalue; i++) {\n  $('#'+id+\"_\"+i).addClass('starRatingChecked');\n}","TemplateType":0,"init_value_snippet":"if ($('#star-rating-style')[0] == undefined) {\n var style = document.createElement('style');\n style.id='star-rating-style';\n style.innerHTML = `\n   .starRatingChecked {\n     color: orange;\n   }\n  `;\n  \n // Get the first script tag\n var ref = document.querySelector('script');\n // Insert our new styles before the first script tag\n ref.parentNode.insertBefore(style, ref);  \n}\n\n\n\n","generator_snippet":"// now create the onclick handler\nITSInstance.screenTemplates.starRatingCheckedClicked = function (id, num_blocks, index, action, actionparameter) {\n   for (var i=1; i <= num_blocks; i++) {\n    $('#'+id+\"_\"+i).removeClass('starRatingChecked');\n    }\n   for (var i=1; i <= index; i++) {\n     $('#'+id+\"_\"+i).addClass('starRatingChecked');\n   }\n  if (action != \"\") {\n   processEvent(action, actionparameter);\n  }\n};\n\nfor (var i=1; i <= num_blocks; i++) {\n $('#'+id+\"_\"+i).removeClass('starRatingChecked');\n }\n\nif (template_values.SelectAction == undefined) template_values.SelectAction = \"\";\nif (template_values.SelectActionParameter== undefined) template_values.SelectActionParameter= \"\";\n\nx1 = '<label id=\"%%ID%%_beforeid\" class=\"col-%%TextBeforeStarsWidth%%  mx-0 px-0 col-form-label\">%%TextBeforeStars%%</label><span class=\"col-%%12-%%TextAfterStarsWidth%%-%%TextBeforeStarsWidth%%%%\"><!--REPEATBLOCK--><span style=\"pointer-events: auto;\" class=\"fa %%Icon%%\" id=\"%%ID%%_%%RepeatBlockNr%%\" onclick=\"ITSInstance.screenTemplates.starRatingCheckedClicked(\\'%%ID%%\\',%%NrOfRepeatBlocks%%,%%RepeatBlockNr%%, \\'';\nx2 = '\\')\"></span><!--REPEATBLOCK--></span><label id=\"%%ID%%_afterid\" class=\"col-%%TextAfterStarsWidth%% col-form-label  mx-0 px-0\">%%TextAfterStars%%</label>';\nx = x1 + template_values.SelectAction+'\\', \\''+template_values.SelectActionParameter + x2;\n\n//console.log(x, template_values);\nreturn x;","generator_pnp_snippet":"// now create the onclick handler\nITSInstance.screenTemplates.starRatingCheckedClicked = function (id, num_blocks, index, action, actionparameter) {\n   for (var i=1; i <= num_blocks; i++) {\n    $('#'+id+\"_\"+i).removeClass('starRatingChecked');\n    }\n   for (var i=1; i <= index; i++) {\n     $('#'+id+\"_\"+i).addClass('starRatingChecked');\n   }\n  if (action != \"\") {\n   processEvent(action, actionparameter);\n  }\n};","generator_summary_snippet":"","validation_snippet":"if (template_values.Required) {\n if (template_values.Required == \"T\") {\n var val = this.runtime_get_values(id, num_blocks);\n if (val == 0) {\n  return template_values.RequiredMessage;\n  }\n }\n}\nreturn \"\";","isanswered_snippet":"//console.log(runtime_values);\nif (runtime_values.Value == \"\") runtime_values.Value = 0;\nreturn runtime_values.Value > 0;","PluginData":{"_objectType":"ITSObject","persistentProperties":"*ALL*"}}