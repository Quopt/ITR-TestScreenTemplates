{"_objectType":"ITSScreenTemplate","ID":"32288f42-cd66-4047-4df3-f7ecea0fc99f","Description":"Progressbar","Explanation":"Shows progress of a test session when a test has multiple question screens","Remarks":"","TemplateVariables":[{"_objectType":"ITSScreenTemplateVariable","ID":"e1a87b89-b089-416d-5416-e9f8d4ea38ef","variableName":"ScreenToStartAt","description":"The name of the screen to start the progress bar for (if empty all screens are used). You may also use the screen index number.","defaultValue":"","variableType":"T","translatable":false},{"_objectType":"ITSScreenTemplateVariable","ID":"ddc9add3-5a7d-4508-fc81-aefa4bbafeeb","variableName":"ScreenToEndAt","description":"The last screen this progress bar shows. You may also use the screen index number.","defaultValue":"","variableType":"T","translatable":false},{"_objectType":"ITSScreenTemplateVariable","ID":"2f0a24da-382c-4b40-d2de-ef8f9df670b6","variableName":"Clickable","description":"A clickable progress bar allows candidates to click on a screen number. The test taking will then immediately switch to that screen.","defaultValue":"","variableType":"B","translatable":false},{"_objectType":"ITSScreenTemplateVariable","ID":"6006c2c1-d559-45ea-7f59-f8c43a8d7aff","variableName":"ShowScreenNumbers","description":"Show the numbers of the screen in the progress bar","defaultValue":"","variableType":"B","translatable":false},{"_objectType":"ITSScreenTemplateVariable","ID":"effba671-918d-4bd7-aa03-a77e4d635bd4","variableName":"AnsweredColor","description":"The color of a answered item in the progress bar","defaultValue":"#008000","variableType":"C","translatable":false},{"_objectType":"ITSScreenTemplateVariable","ID":"d6e285bd-83dd-4413-b565-a4c2c46a3166","variableName":"UnansweredColor","description":"The color for the unanswered items","defaultValue":"#C0C0C0","variableType":"C","translatable":false},{"_objectType":"ITSScreenTemplateVariable","ID":"b002b8db-b9fb-4a1e-513f-f737ec633cd3","variableName":"BeforeBarText","description":"A text to show before the button bar","defaultValue":"","variableType":"T","translatable":true},{"_objectType":"ITSScreenTemplateVariable","ID":"1ca8eca7-a197-4153-f298-f0ec2e4104b5","variableName":"AfterBarText","description":"The text to show after the progress bar","defaultValue":"","variableType":"T","translatable":true},{"_objectType":"ITSScreenTemplateVariable","ID":"db2d21c1-e253-4dea-e4d3-b595058e24be","variableName":"ScreenNumberStart","description":"The first screen number in the progress bar (in case the screen numbers are shown)","defaultValue":"","variableType":"T","translatable":false},{"_objectType":"ITSScreenTemplateVariable","ID":"495a6188-092f-499d-051f-414ff84f0c2e","variableName":"ProgressBarWidth","description":"","defaultValue":"w-100|100%,w-50|50%,w-25|25%","variableType":"L","translatable":false}],"HTMLContent":"<!-- progress bar -->","HTMLContentPnP":"<!-- progress bar -->\n%%BeforeBarText%% %%AfterBarText%%","HTMLContentSummary":"","get_value_snippet":"","set_value_snippet":"","TemplateType":0,"init_value_snippet":"","generator_snippet":"//console.log(template_values);\n// if in test taking\nif (ITSInstance.testTakingController) {\n\tvar testDef = ITSInstance.testTakingController.currentTestDefinition;\n\tvar curTest = ITSInstance.testTakingController.currentSessionTest;\n\tvar candidate = ITSInstance.testTakingController.candidate;\n\tvar answers = \"\";\n\ttry {\n\t var answers = ITSInstance.testTakingController.currentSessionTest.Results;\n\t} catch(err) {};\n}\n\nvar StartScreen = template_values.ScreenToStartAt;\nvar EndScreen = template_values.ScreenToEndAt; \nvar genOnClick = template_values.Clickable == \"T\";\nvar showScreenNumbers = template_values.ShowScreenNumbers == \"T\";\nvar AnsweredColor = template_values.AnsweredColor;\nvar UnansweredColor = template_values.UnansweredColor;\nvar ScreenNumberStart = 0;\ntry { ScreenNumberStart = parseInt(template_values.ScreenNumberStart); } catch(err) {};\nif (isNaN(ScreenNumberStart)) ScreenNumberStart = 0;\n\n// find the StartScreen\ntry {\n\tvar x = -1;\n\tif (testDef) x = testDef.findScreenIndexByName(StartScreen);\n\tif (x > -1) {\n\t\tStartScreen = x;\n\t} else {\n\t\tStartScreen = parseInt(StartScreen);\n\t}\n} catch(err) {};\n// find the EndScreen\ntry {\n\tvar x = -1;\n\tif (testDef) x = testDef.findScreenIndexByName(EndScreen);\n\tif (x > -1) {\n\t\tEndScreen = x;\n\t} else {\n\t\tEndScreen = parseInt(EndScreen);\n\t}\n} catch(err) {};\n\n//console.log(\"StartScreen\",StartScreen );\n//console.log(\"EndScreen\", EndScreen );\n//console.log(\"genOnClick \",  genOnClick);\n//console.log(\"showScreenNumbers\", showScreenNumbers );\n//console.log(\"AnsweredColor\",  AnsweredColor);\n//console.log(\"UnansweredColor\", UnansweredColor );\n//console.log(\"ScreenNumberStart\", ScreenNumberStart );\n\nvar generatedContent = \"\";\nvar clickScripts = \"\";\nvar screenNumberScript = \"\";\nvar colorScript = \"\";\nvar borderStyleScript = \"\";\nfor (var i = StartScreen; i <= EndScreen; i++) {\n    screenNumberScript =\"\";\n\tif (showScreenNumbers) { screenNumberScript = \"\" + (i + ScreenNumberStart); borderStyleScript = \";border-right:1px solid white\"; }\n\tif (genOnClick) clickScripts = \" onclick='processEvent(\\\"GotoScreen\\\",\\\"\"+i+\"\\\");' \";\n\t// try to find out if this screen is answered\n\ttry {\n\t colorScript = \"background-color:#\" + UnansweredColor;\n\t if ((testDef) && (testDef.screens[i].checkIsAnswered(answers) > 0)) colorScript = \"background-color:#\" + AnsweredColor + \";\";\n\t} catch(err) {}\n\t\n\tgeneratedContent = generatedContent + \"<td class='d-none d-sm-table-cell' \"+clickScripts+\" style='text-align:center;\"+colorScript+borderStyleScript+\"'>\"+screenNumberScript+\"</td>\";\n}\n\nreturn '<div style=\"pointer-events: auto;\" id=\"'+id+'\"><table class=\"%%ProgressBarWidth%%\" id=\"%%ID%%_bar\" style=\"min-height:14px;\"><tr><td>%%BeforeBarText%%</td>'+ generatedContent +'<td>%%AfterBarText%%</td></tr></table></div>'","generator_pnp_snippet":"","generator_summary_snippet":"","validation_snippet":"","isanswered_snippet":"return true;","PluginData":{"_objectType":"ITSObject","persistentProperties":"*ALL*"}}