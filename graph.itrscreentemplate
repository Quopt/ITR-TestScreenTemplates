{"_objectType":"ITSScreenTemplate","ID":"9b9fb9f9-5794-454c-5184-ef9dac1dc8b1","Description":"Graph","Explanation":"<p class=\"p_compressed\">Shows a graph to the user. The user can click on the graph. An optional action can then be executed.&nbsp;</p>\n<p class=\"p_compressed\"><img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOgAAADRCAYAAADG3P4dAAASkUlEQVR4Ae2dT4vlRBTF/bS9nWXPcnYyX0HcuRFpQXCpYKvtTgUdUVyoo40DA/6dQWVAiZwer6e6ppKX5CW55713AiE3SSV1cu/9vaqXfl31UufFHrAHZD3wkqyyDYRdXl52r7766sGuG7jIVSR74OQBPTs76w5xPT8/T04dV7+FBwzo2Vn3ySefdL/88svBrC+//HJnQLfAI78OA3qkgP7111/dl19+uWiGfffdd92vv/666D19s2EPGNAjBBRw3r9/v3v77beHoz/hLHoZd+/eNaATfLZEUQNqQEflkQEd5abFCxnQIwM0Ws948YWWFMewALI4jm3dwmK/db6+DvtetvGAAT0yQJE2AWkJIOyyi4rvktiPMnUL+e233968iMIWS31+m/R0LQb0BAANYOuWr4SuBrhGoyxbn/P+eh4woCcAaLSWZfc17GhV6zLRskbqGdDwxLZbA3oCgKKbeufOnZtu6pj0ApwBcIBqQMd4bvkyBvQEAI3WMWAbm0YoHy+ZDOhYry1bzoAeIaBIkVdeeeVmjXQBbGhF46VPlAkAcT66uzgX31sD6vqlUdzX23U9YECPFFC0eOimltABtui6YhtwRooB6vI89mMJYHE+oI1z3q7nAQN6pICulzK+85YeMKAGdMt8c10TPWBADejElHHxLT1gQM/ODu4ftv3vZlsikluXAfU/bOdmoGsf9MBJA4o3k4e8DkbWJ4/CAycN6FFE0A9x1B4woEcdXj/coXtgEqD4w3Xrj9TxR/H4Izf2y6X8I3frD+RlWdv2gD1AD4wGNH5lUgNa/xAbcA79pCxgLX+lQjm27AF7oPTATkDjh9aADiPJ1YACtBq28ljrN5ytY6Uo2/aAPfDcAzsBBZAALlq+EtDWMdwWrWj8zhN2+XtQnI/r6q6wg2IP2AO3PbAT0CgeUJWARutag1ZCifIB69C94py39oA9QA8YUPrClj0g54FUQC8uLronT56MXq+vr7tHjx6NLj/l3lPKqmjI1oH6szUgbtDw008/pecFtCy97AVoq9sLgejiRre27O6G+Lju6upqklNVAP36668n6Z4C/9iyCnAoaIC/EA8D2jNaefnGNgAsj7Xe2LaOxbVDW3znXeNTaqjO1rkff/yxdXjTYwHyppVWlSlogCTE49mzZ5W649jdqwWFCwBbOSAVWsy1/g5qQJl0CnAoaIBHDGjxp5HyLW6kC6CMXxFhi/1yiS5tlInub1lmjG1A6SUFOBQ0wCMGlHmRahlQul8BDgUNBpQ5kW4ZUIZAAQ4FDQaUOZFuGVCGQAEOBQ0GlDmRbhlQhkABDgUNBpQ5kW4ZUIZAAQ4FDQaUOZFuGVCGQAEOBQ0GlDmRbhlQhkABDgUNBpQ5kW4ZUIZAAQ4FDQaUOZFuGVCGQAEOBQ0GlDmRbhlQhkABDgUNBpQ5kW4ZUIZAAQ4FDQaUOZFuGVCGQAEOBQ0GlDmRbhlQhkABDgUNBpQ5kW4ZUIZAAQ4FDQaUOZFuGVCGQAEOBQ0GlDmRbhlQhkABDgUNBpQ5kW4ZUIZAAQ4FDQaUOZFuGVCGQAEOBQ0GlDnRa3nIk17XrHZCAQ4FDXCwhzwZSDMPGjbgnBVPKcChoMGA7kiy1tQOHnZzh9MWOK0Ah4IGA7ojmXYBiu7vUpMn+Tsog6EAh4IGA8qcaFp1F7febwEcw3C2hvBsVvLfQQNK7yjAoaABHvF3UOZF0wooMe5tPWi1AW26bO+DCnAoaIAjDehAOgHAsguLVg77+B6KxYAOOG+PUwpwKGiACw1oTyIFjPVI8uX3ztKO20QX9/Ly8sa5cPCY9auvvrqZKGdM2TXLfPrpp6P0rqkBEwZhXbOOXfdW0ACNiMfDhw9TfQEdmMBp6WX03CytiscAiu7v+fn5zRwucY84hgBj0pux6+PHj2+cMLb8WuWQDGvde+x9kQxYx5Zfo5yCBjwX4vH06dNUX4R/I8eX2u4FKETs6uKiDLq7MR9LtJ7RBZ7yIH5JRG8pdC8VNMAjaL0AyDEuewMKpwDSmBgJW+yXS0AZZQLWsswY24DSSwpwKGiARwwo8yLVMqB0vwIcChoMKHMi3TKgDIECHAoaDChzIt0yoAyBAhwKGgwocyLdMqAMgQIcChoMKHMi3TKgDIECHAoaDChzIt0yoAyBAhwKGgwocyLdMqAMgQIcChoMKHMi3TKgDIECHAoaDChzIt0yoAyBAhwKGgwocyLdMqAMgQIcChoMKHMi3TKgDIECHAoaDChzIt0yoAyBAhwKGgwocyLdMqAMgQIcChoMKHMi3TKgDIECHAoaDChzIt0yoAyBAhwKGgwocyLdMqAMgQIcChoMKHMi3TKgDIECHAoaDChzIt0yoAyBAhwKGgwocyLdMqAMgQIcChoMKHOi1yoHrvaYRL1uWvSEAhwKGuBUj0k0kFoY9xZQxti4AWvs41KP6jfgwJmnFOBQ0AD3GdCeJIrR+uohNLEfx2IMXGxjaR2Lc0Nbd3HpHQU4FDTAIwaUeXHLAjCY5qFsLW8V6Lqbc+XUEDgfYA9dV98H+waUXlGAQ0EDPGJAmRe3rGgJARogjHFvy3FxYdfj4AagZblbN+7ZMaB0jAIcChrgEQPKvLhlAVDMZla2kHEs4DOgt1y22I4CHAoa4FAD2pNW0YJiWy6AMqAdAvStt96aNJ+G52bhPDYK86IoaPDcLCV5ld0HaHR50SUt7bg8urie3WzcrG5oIepVYWYxBQ3wi2c3C7KqbYBWv+wpW80WxK1j1a2bu/4OSrcodC8VNMAj7uIyL16w6hYS8OF7KSCNxX8HDU8st1WAQ0EDPGpAd+QVII03uP4l0Q5nLXRaAQ4FDQZ0oYRa4jbu4tKLCnAoaDCgzIl0y4AyBApwKGgwoMyJdMuAMgQKcChoMKDMiXTLgDIECnAoaDCgzIl0y4AyBApwKGgwoMyJdMuAMgQKcChoMKDMiXTLgDIECnAoaDCgzIl0y4AyBApwKGgwoMyJdMuAMgQKcChoMKDMiXTLgDIECnAoaDCgzIl0y4AyBApwKGgwoMyJdMuAMgQKcChoMKDMiXTLgDIECnAoaDCgzIl0y4AyBApwKGgwoMyJdMuAMgQKcChoMKDMiXTLgDIECnAoaDCgzIl0y4AyBApwKGgwoMyJdMuAMgQKcChoMKDMiXTLgDIECnAoaDCgzIlRVjkvS1wQo//FuEX1SPNRbtfWgNJDCnAoaIBHPGgY82LQisHDYuKkKOxR/cITy20V4FDQAI8a0BF5hdbt3r173fn5+f8zm+Gy1hi4rWMjqvDkSYWTFOBQ0ACXGNAiMVpmdGExFm7dxa3HzcX1UR7npizu4tJbCnAoaIBHDCjzommVI8nXgJbn4uIAtBzcOs4NbQ0ovaMAh4IGeMSAMi9esOruqgF9wUWrHFCAQ0EDnGtAe1Ks1RJOAfTi4qKLII/ZXl9fd48ePZp0zZj7Ti2DSYOmXrN0efgh2xcKGuBXxAMzrS3t4zn360Fl9uGXZl/53wsgzMMSfz4ptzH94NB30Kurq0lONaBP/veXAhwKGgzoRILrFrTuAuN2rWNjqvF3UHopPt15ZHtLQQOe2l3cCbGvAcWlOBY/TohuMY5NXQwoPaYAh4IGeMSAMi92Wi1AA8roAgesO29WFTCgdIgCHAoa4BEDyrxItQwo3a8Ah4IGA8qcSLcMKEOgAIeCBgPKnEi3DChDoACHggYDypxItwwoQ6AAh4IGA8qcSLcMKEOgAIeCBgPKnEi3DChDoACHggYDypxItwwoQ6AAh4IGA8qcSLcMKEOgAIeCBgPKnEi3DChDoACHggYDypxItwwoQ6AAh4IGA8qcSLcMKEOgAIeCBgPKnEi3DChDoACHggYDypxItwwoQ6AAh4IGA8qcSLcMKEOgAIeCBgPKnEi3DChDoACHggYDypxItwwoQ6AAh4IGA8qcSLcMKEOgAIeCBgPKnEi3DChDoACHggYDypzotTDMSQxngm09YryHPOl13ewTCnAoaIADPeTJQBqVA4KhGEbsw1CcJaRlmYAVx6YubkHpMQU4FDTAIwaUeXHLAjAY/7aEEQUAXwDYGmKzdezWjXt2DCgdowCHggZ4xIAyL0ZZJaBDA1fXYO+6uQGlhxTgUNAAjxhQ5sVOK1rVmBjJkyftdNmsAgpwKGiA8wzoyBSK75fluLcGdKTzJhZTgENBgwEdmTgBZ8zJEpcZ0PDEslsFOBQ0wKtuQXfkVh+cuGzoO+jl5eXNrFSYmWrM+s0333QPHz4cVXbM/eaW+eKLL9I1wA/ZvlDQgBgiHpjIaW48l7xuByqTT+81uxlqCzjLbm2povXGNo5h2rhnz56NXh8/fnwThCnXrFEWibnGfafcM5JqyjVLl1XQgGdCPJ4+fZoeE2hZetkbULyx7YMzxJZlAuj4M0yUGbP1W1x6SaF7qaABHnEXl3lxy0JL2Dc/aAltQBm/NirP3brhjh0DSgcpwKGgAR4xoMyLVMuA0v0KcChoMKDMiXTLgDIECnAoaDCgzIl0y4AyBApwKGgwoMyJdMuAMgQKcChoMKDMiXTLgDIECnAoaDCgzIl0y4AyBApwKGgwoMyJdMuAMgQKcChoMKDMiXTLgDIECnAoaDCgzIl0y4AyBApwKGgwoMyJdMuAMgQKcChoMKDMiXTLgDIECnAoaDCgzIl0y4AyBApwKGgwoMyJdMuAMgQKcChoMKDMiXTLgDIECnAoaDCgzIl0y4AyBApwKGgwoMyJdMuAMgQKcChoMKDMiXTLgDIECnAoaDCgzIl0y4AyBApwKGgwoMyJdMuAMgQKcCho6AP0wYMH3ZorI7GutfegYWPkeUyiMV6aVkYBjpaGv//+u1tzbXmpNSbRu+++273xxhurrBcXFy0ZqxzbBFCP6rd87FpwLF/L8B1bGj788MPunXfeWWW9urpqCjKgTbeMOxhj4GIbS+tYnBvauotL77TguL6+7tZcWftzq6XBgNZe2m9/9RZ0aGT5Y5rd7J9//unWXOswt+D4/PPPu48//niVFfeul5YGA1p7ab/91QE9lblZvv/++w5TU6yx4t710oLDgNJL/g5KXwxaawP6xx9/dGuurYfDd556MaDPPeIWtM6M/fYPqgX9+eefO3wPLd8S/vbbb91a6++//36rrqj3hx9+eOE4AF1zjbpjCz/UvkAL+tlnn62y4t5Rd2xbGgDoBx98sMqKl0RRd7lFPP78889b5/CiCo3DWmtZf9j4irP0sjqgQ99B33zzze69994bvb7++uvda6+91uE1d+aKt9KZ9aNu+CHbFwoa4AvEA7mRHZP3339/aT671QFtvbFtHVv8yVa8YauLu2J1zVu3voM2C654UEEDHq/1Z5YVH3vTW68OKJ5mqb+DbuqZgcoM6HPnGNCBJFno1CaALvVLooWeee/bGNDnLjSge6fSzhtsAuhOFQdWwIA+D5gBXT9xDegMHxtQAzojbWZdYkBnuM2AGtAZaTPrEgM6w20G1IDOSJtZlxjQGW4zoAZ0RtrMusSAznCbATWgM9Jm1iUGdIbbDKgBnZE2sy4xoDPcZkAN6Iy0mXXJyQCK3wSfnZ119+/f7/DDiS0X/Kj87t27N/VDQ6x37tzpyn9k30JTSwt+UL7FEjGI548tfANdWy31D2dCR2y31jP03CcDKH5ueH5+3gGKqf8oPuTAMecCirpegLElpKgPSVjqCG3wz9oL6m0l/9Z+CEC3+mDax68nAWgk4UcffXTTgm6RjGVQov4SDJzvO15eu5SNlrrvw2no3FL14z59gOJc+XvtJets3cuAtrySeAyflPHJXdpbSeoDse/4Grrw3Bnd+/JZhgDd8j+cDGgZlWQ7ghGt5pZQxKP31QloQleUXWuLeraqq+8ZhgDt81HfvfY5HjkB/6svR9/FbX0yI1G3bE0i+eIlRLndSgeeOTsh1QAt41Da2X4qPzSOHlA4u4YAibLly5kAFPWWS3z326JlQx1b1FM+X22rAaoEYu2r2D9qQAOM8tOxtLcKUOioAUUQWh8gEZwlt7vq2aKFHQIUH1b37t3b5M8t7uIumVl73AsJ0ddSIiHjxdEeVYy6VAHQIQ3Rkrc+QEY94MhCQ4Bu2cIb0JEBW7vYUNCRLGhN105KPGMfHH3H1/ILWtH6mUMDfLX20gcodPV9kK6hyYCu4dWJ99zVKkSQtkjMgKDsXoe9xQdE6brwS9SPLQDZYokPxbJu2Fv1ZOIZI/a1jtjf8sMiNPVtj/o7aN9D+7g9cCgeMKCHEinrPEkPGNCTDLsf+lA8YEAPJVLWeZIeMKAnGXY/9KF4wIAeSqSs8yQ9YEBPMux+6EPxgAE9lEhZ50l64F+VgCYaXNu3vwAAAABJRU5ErkJggg==\" alt=\"\" width=\"147\" height=\"132\" /></p>","Remarks":"","TemplateVariables":[{"_objectType":"ITSScreenTemplateVariable","ID":"2206e25c-4d9f-4c2c-00b2-c3dbf91a6035","variableName":"Name","description":"The name of the graph","defaultValue":"","variableType":"T","translatable":false},{"_objectType":"ITSScreenTemplateVariable","ID":"b3db1080-ca26-4fd7-d0f1-17827bbec8f5","variableName":"Type","description":"The type of graph to generate","defaultValue":"radar|Radar,bar|Bar,horizontalBar|Horizontal bar,doughnut|Doughnut,pie|Pie,line|Line,polarArea|Polar","variableType":"L","translatable":false},{"_objectType":"ITSScreenTemplateVariable","ID":"25f4863a-4194-4808-ae1f-3b51e3b63f0e","variableName":"Axis_min_value","description":"The minimum value the graph is initialised with","defaultValue":"0","variableType":"T","translatable":false},{"_objectType":"ITSScreenTemplateVariable","ID":"75d088b2-1027-4ab2-f057-3fcaeea78a44","variableName":"Axis_max_value","description":"The maximum value the graph is initialised with","defaultValue":"100","variableType":"T","translatable":false},{"_objectType":"ITSScreenTemplateVariable","ID":"ad16dc0b-d5da-43d0-96d1-a2c64c450fbb","variableName":"Show_legend","description":"Show the legend in the graph ","defaultValue":"T","variableType":"B","translatable":false},{"_objectType":"ITSScreenTemplateVariable","ID":"c50045fd-94a8-4f62-fb3f-0a32bfef4a27","variableName":"Pre_graph_script","description":"","defaultValue":"","variableType":"A","translatable":false},{"_objectType":"ITSScreenTemplateVariable","ID":"ea21ac13-0c14-4a55-1842-52784491956f","variableName":"Series_labels","description":"A comma seperated list of label names","defaultValue":"","variableType":"T","translatable":false},{"_objectType":"ITSScreenTemplateVariable","ID":"d248a6ff-b950-4201-e7c6-62e97d4b60a9","variableName":"Series_data","description":"A comma seperated list of numeric values","defaultValue":"","variableType":"T","translatable":false},{"_objectType":"ITSScreenTemplateVariable","ID":"6bdc4beb-bfc6-4121-76b7-0ddd027f7baa","variableName":"Series_color_start","description":"The color of this series","defaultValue":"EEEEEE","variableType":"C","translatable":false},{"_objectType":"ITSScreenTemplateVariable","ID":"8ffeaca7-3a00-4784-0493-a0ece20762d1","variableName":"Series_name","description":"The name of this series","defaultValue":"","variableType":"T","translatable":false},{"_objectType":"ITSScreenTemplateVariable","ID":"19af469c-9df4-4d24-e28f-700c0e83c43c","variableName":"Height","description":"","defaultValue":"200px","variableType":"T","translatable":false},{"_objectType":"ITSScreenTemplateVariable","ID":"7829a7a0-236a-4a1a-1eac-9e9866c62888","variableName":"Width","description":"","defaultValue":"200px","variableType":"T","translatable":false},{"_objectType":"ITSScreenTemplateVariable","ID":"18a6ed75-d4a7-4825-ba32-4eebfdc8d4b9","variableName":"Series_type","description":"If the series is of another type then the graph override it here, In general only bar and line types can be mixed.","defaultValue":"|None,radar|Radar,bar|Bar,doughnut|Doughnut,pie|Pie,line|Line,polarArea|Polar","variableType":"L","translatable":false},{"_objectType":"ITSScreenTemplateVariable","ID":"7fc268b8-bf68-486d-d765-c3c689ab4e95","variableName":"Series_color_end","description":"","defaultValue":"AAAAAA","variableType":"C","translatable":false},{"_objectType":"ITSScreenTemplateVariable","ID":"4713efff-9a20-4dda-bc52-a5bbfe8cb6bd","variableName":"Series_fill","description":"","defaultValue":"F","variableType":"B","translatable":false},{"_objectType":"ITSScreenTemplateVariable","ID":"46181ecc-a40f-4b87-86ba-47372c9eed8a","variableName":"Stacked","description":"If stack groups are present (and only on line and bar charts) stacking can be switched on","defaultValue":"F","variableType":"B","translatable":false},{"_objectType":"ITSScreenTemplateVariable","ID":"a57cbe44-5094-494a-e7bc-827500ac604a","variableName":"StackGroup","description":"The stack group name","defaultValue":"","variableType":"T","translatable":false},{"_objectType":"ITSScreenTemplateVariable","ID":"fd1e8ef5-e13a-4e3b-f497-071d051535ea","variableName":"Series_line_show","description":"Show the line or not","defaultValue":"T","variableType":"B","translatable":false},{"_objectType":"ITSScreenTemplateVariable","ID":"63b62707-4373-4f27-6a46-8d647c3d4720","variableName":"Series_line_curve","description":"Show the line curved or not straight","defaultValue":"T","variableType":"B","translatable":false},{"_objectType":"ITSScreenTemplateVariable","ID":"d39b5af2-13db-4bba-1e9b-d6b0c4518df3","variableName":"Series_point_type","description":"","defaultValue":"circle|circle,cross|cross,crossRot|rotated cross,dash|dash,line|line,rect|rectangle,rectRounded|rounded rectangle,rectRot|rotated rectangle,star|star,triangle|triangle","variableType":"L","translatable":false},{"_objectType":"ITSScreenTemplateVariable","ID":"ee58ab92-ea6f-4cfa-6c68-54410d1853f2","variableName":"Series_point_size","description":"Size for the point","defaultValue":"3","variableType":"T","translatable":false},{"_objectType":"ITSScreenTemplateVariable","ID":"6440a904-dfde-447c-b809-bc11b9f8a1bb","variableName":"Series_line_tension","description":"","defaultValue":"0.4","variableType":"T","translatable":false},{"_objectType":"ITSScreenTemplateVariable","ID":"23a5e87c-5307-4e73-e391-b2d82f4f0072","variableName":"GraphAction","description":"Action to execute when data of this series is clicked","defaultValue":"","variableType":"LX","translatable":false}],"HTMLContent":"<div id=\"%%ID%%\" style=\"height:%%Height%%; width:%%Width%%;pointer-events:auto;\"></div>\n<!--REPEATBLOCK-->\n<!-- %%Series_name%% -->\n<!--%%Series_data%%-->\n<!-- %%Series_color_start%% -->\n<!-- %%Series_color_end%% -->\n<!-- %%Series_type%% -->\n<!-- %%Series_fill%% -->\n<!-- %%StackGroup%% -->\n<!-- %%Series_line_show%% -->\n<!-- %%Series_line_curve%% -->\n<!-- %%Series_point_type%% -->\n<!-- %%Series_point_size%% -->\n<!-- %%Series_line_tension%% -->\n<!-- %%GraphAction%% -->\n<!--REPEATBLOCK-->\n","HTMLContentPnP":"","HTMLContentSummary":"","get_value_snippet":"         ","set_value_snippet":"         ","TemplateType":0,"init_value_snippet":"\nconsole.log(id, num_blocks, test_mode, template_values, screenComponentIndex);\nvar elementID = 'canvas' +id;\n\n$('<canvas>').attr({\n        id: elementID\n    }).css({\n        width: '100%',\n        height: '100%'\n    }).appendTo('#'+id);\nvar canvas = document.getElementById(elementID);\nvar ctx = canvas.getContext('2d');\n\nif (template_values.Pre_graph_script != \"\") {\ntry { eval(template_values.Pre_graph_script); } catch(err) { console.log('Pre script on graph failed : ' + err.message); }\n}\n\nvar dsets=[];\nvar dsetpostfix = \"\";\nvar start =0;\nvar end =0;\nvar increment =0;\nfor (var i=1; i<=template_values.RepeatBlockCount; i++){\n var dsetentry = {};\n if (i>1) dsetpostfix = \"_\"+i;\n dsetentry[\"label\"] = template_values[\"Series_name\"+dsetpostfix];\n dsetentry[\"stack\"] = template_values[\"StackGroup\"+dsetpostfix];\n dsetentry[\"data\"] = template_values[\"Series_data\"+dsetpostfix].split(\",\");\n dsetentry[\"backgroundColor\"] = [];\n dsetentry[\"backgroundColor\"].length = dsetentry[\"data\"].length;\n dsetentry[\"borderColor\"] = [];\n dsetentry[\"borderColor\"].length = dsetentry[\"data\"].length;\n dsetentry[\"pointBackgroundColor\"] = [];\n dsetentry[\"pointBackgroundColor\"].length = dsetentry[\"data\"].length;\n dsetentry[\"pointBorderColor\"] = [];\n dsetentry[\"pointBorderColor\"].length = dsetentry[\"data\"].length;\n dsetentry[\"pointBorderColor\"].fill(\"#\"+template_values[\"Series_color_start\"+dsetpostfix]); \n dsetentry[\"borderColor\"].fill(\"#\"+template_values[\"Series_color_start\"+dsetpostfix]);\n dsetentry[\"fill\"] = template_values[\"Series_fill\"+dsetpostfix] == \"T\";\n \n start = RGBstringToNumber(template_values[\"Series_color_start\"+dsetpostfix]);\n end = RGBstringToNumber(template_values[\"Series_color_end\"+dsetpostfix]);\n increment = (end - start) / (dsetentry[\"data\"].length-1);\n for (var j=0; j < dsetentry[\"data\"].length; j++ ){ \n   dsetentry[\"backgroundColor\"][j] = \"#\" + RGBnumberToColour(start);\n   dsetentry[\"pointBackgroundColor\"][j] = \"#\" + RGBnumberToColour(start);\n   start = start + increment;\n }\n\n dsetentry[\"pointBorderWidth\"] = 1;\n dsetentry[\"BorderWidth\"] = 2;\n if (template_values[\"Series_type\"+dsetpostfix] != \"\") dsetentry[\"type\"] = template_values[\"Series_type\"+dsetpostfix]; \n dsets.push(dsetentry);\n}\n//console.log(dsets);\n\nvar myChart = new Chart(ctx , {\n    type: template_values.Type,\n    data: {\n        labels: template_values.Series_labels.split(\",\"),\n        datasets: dsets\n    },\n    options: {\n        scales: {\n            xAxes: [{\n                stacked: template_values.Stacked == \"T\"\n            }],\n            yAxes: [{\n                stacked: template_values.Stacked == \"T\",\n                ticks: {\n                    beginAtZero:true,\n\t\t\t\t\tmin: parseInt(template_values.Axis_min_value), \n\t\t\t\t\tmax: parseInt(template_values.Axis_max_value)\n                }\n            }]\n        },\n        legend: {\n            display: (template_values.Show_legend==\"T\")        }\n    }\n});\n \n$('#'+elementID).click(function (e)\n{\n    var activePoints = myChart.getElementsAtEvent(event);\n    var activeDataSet = myChart.getDatasetAtEvent(event);\n\n    if (activePoints.length > 0)\n    {\n         var clickedDatasetIndex = activeDataSet[0]._datasetIndex;\n         var clickedElementIndex = activePoints[0]._index;\n         var value = myChart.data.datasets[clickedDatasetIndex].data[clickedElementIndex];\n         console.log(e,value,clickedDatasetIndex,clickedElementIndex, myChart,myChart.data.datasets[clickedDatasetIndex] ); \n         var parObject = {};\n         parObject.value = value; \n         parObject.clickedDatasetIndex = clickedDatasetIndex;\n         parObject.clickedElementIndex = clickedElementIndex; \n         parObject.myChart = myChart; \n         parObject.dataset = myChart.data.datasets[clickedDatasetIndex]; \n         console.log('Script', elementID + ','+screenComponentIndex+','+(clickedDatasetIndex+1)+',GraphAction', parObject);\n         processEvent('Script', elementID + ','+screenComponentIndex+','+(clickedDatasetIndex+1)+',GraphAction', parObject);\n    }\n    // todo: add code to do something with value.\n});        ","generator_snippet":"         ","generator_pnp_snippet":"         ","generator_summary_snippet":"         ","get_value_as_html_snippet":"if (preload) return 0;\n\nvar elementID = 'canvas' +id;\n\n$(document.body).append(\"<div id='\"+id+\"' style='visibility: hidden; width:\"+current_values.Width+\"; height:\"+current_values.Height+\"'></div>\");\nx = \"\";\n\ntry {\n\t$('<canvas>').attr({\n\t\t\tid: elementID\n\t\t}).css({\n\t\t\twidth: '100%',\n\t\t\theight: '100%'\n\t\t}).appendTo('#'+id);\n\tvar canvas = document.getElementById(elementID);\n\tvar ctx = canvas.getContext('2d');\n\n\tif (current_values.Pre_graph_script != \"\") {\n\ttry { eval(current_values.Pre_graph_script); } catch(err) { console.log('Pre script on graph failed : ' + err.message); }\n\t}\n\n\tvar dsets=[];\n\tvar dsetpostfix = \"\";\n\tvar start =0;\n\tvar end =0;\n\tvar increment =0;\n\tfor (var i=1; i<=current_values.RepeatBlockCount; i++){\n\t var dsetentry = {};\n\t if (i>1) dsetpostfix = \"_\"+i;\n\t dsetentry[\"label\"] = current_values[\"Series_name\"+dsetpostfix];\n\t dsetentry[\"stack\"] = current_values[\"StackGroup\"+dsetpostfix];\n\t dsetentry[\"data\"] = current_values[\"Series_data\"+dsetpostfix].split(\",\");\n\t dsetentry[\"backgroundColor\"] = [];\n\t dsetentry[\"backgroundColor\"].length = dsetentry[\"data\"].length;\n\t dsetentry[\"borderColor\"] = [];\n\t dsetentry[\"borderColor\"].length = dsetentry[\"data\"].length;\n\t dsetentry[\"pointBackgroundColor\"] = [];\n\t dsetentry[\"pointBackgroundColor\"].length = dsetentry[\"data\"].length;\n\t dsetentry[\"pointBorderColor\"] = [];\n\t dsetentry[\"pointBorderColor\"].length = dsetentry[\"data\"].length;\n\t dsetentry[\"pointBorderColor\"].fill(\"#\"+current_values[\"Series_color_start\"+dsetpostfix]); \n\t dsetentry[\"borderColor\"].fill(\"#\"+current_values[\"Series_color_start\"+dsetpostfix]);\n\t dsetentry[\"fill\"] = current_values[\"Series_fill\"+dsetpostfix] == \"T\";\n\t \n\t start = RGBstringToNumber(current_values[\"Series_color_start\"+dsetpostfix]);\n\t end = RGBstringToNumber(current_values[\"Series_color_end\"+dsetpostfix]);\n\t increment = (end - start) / (dsetentry[\"data\"].length-1);\n\t for (var j=0; j < dsetentry[\"data\"].length; j++ ){ \n\t   dsetentry[\"backgroundColor\"][j] = \"#\" + RGBnumberToColour(start);\n\t   dsetentry[\"pointBackgroundColor\"][j] = \"#\" + RGBnumberToColour(start);\n\t   start = start + increment;\n\t }\n\n\t dsetentry[\"pointBorderWidth\"] = 1;\n\t dsetentry[\"BorderWidth\"] = 2;\n\t if (current_values[\"Series_type\"+dsetpostfix] != \"\") dsetentry[\"type\"] = current_values[\"Series_type\"+dsetpostfix]; \n\t dsets.push(dsetentry);\n\t}\n\n\tChart.defaults.global.animation.duration = 0;\n\tvar myChart = new Chart(ctx , {\n\t\ttype: current_values.Type,\n\t\tdata: {\n\t\t\tlabels: current_values.Series_labels.split(\",\"),\n\t\t\tdatasets: dsets\n\t\t},\n\t\toptions: {\n\t\t\tscales: {\n\t\t\t\txAxes: [{\n\t\t\t\t\tstacked: current_values.Stacked == \"T\"\n\t\t\t\t}],\n\t\t\t\tyAxes: [{\n\t\t\t\t\tstacked: current_values.Stacked == \"T\",\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tbeginAtZero:true,\n\t\t\t\t\t\tmin: parseInt(current_values.Axis_min_value), \n\t\t\t\t\t\tmax: parseInt(current_values.Axis_max_value)\n\t\t\t\t\t}\n\t\t\t\t}]\n\t\t\t},\n\t\t\tlegend: {\n\t\t\t\tdisplay: (current_values.Show_legend==\"T\")        }\n\t\t}\n\t});\n\n\tx = document.getElementById(elementID).toDataURL('image/png');\n} finally {\n\t$(\"#\"+id).remove();\n}\n\nreturn \"<img src='\" + x + \"'/>\";\n         ","validation_snippet":"         ","isanswered_snippet":"return true;         ","custom_template_actions_snippet":"         ","PluginData":{"LegacyTemplate":false,"_objectType":"ITSObject","persistentProperties":"*ALL*"}}